<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" type="image/svg" href="/favicon.svg">
        <script type="text/javascript" src="/js/global/JQuery/jquery-3.7.1.min.js"></script>
        <style>
            html, body {
                margin: 0;
                padding: 0;
            }
            body {
                background-color: #333;
                overflow: hidden;
            }
            a {
                text-decoration: none;
                color: black;
            }
            .taskbar {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                width: 100dvw;
                height: 48px;
                background-color: #eeee;
            }
            .taskbar .task-apps {
                position: absolute;
                text-align: center;
                left: 50%;
                transform: translateX(-50%);
                width: max-content;
                height: inherit;
            }
            .taskbar .task-apps div {
                top: 0;
                bottom: 0;
                position: relative;
                display: inline-block;
                height: calc(100% - 8px);
                margin: 4px;
                aspect-ratio: 1 / 1;
                box-sizing: border-box;
                border-radius: 8px;
            }
            .taskbar .task-apps div img, .taskbar .task-apps div svg {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                display: inline-block;
                height: 100%;
                padding: 8px;
                aspect-ratio: 1 / 1;
                box-sizing: border-box;
            }
            .taskbar .task-apps div:hover {
                background-color: #fff6;
            }
            .taskbar .task-apps div[data-minisize]::after {
                bottom: -36px;
                left: 50%;
                transform: translateX(-50%);
                position: relative;
                display: block;
                content: '';
                height: 4px;
                width: 8px;
                margin: 0;
                padding: 0;
                background-color: #777;
                border-radius: 999px;
            }
            .taskbar .task-apps div[data-this-is-using] {
                background-color: #fafafaee;
            }
            .taskbar .task-apps div[data-this-is-using]::after {
                bottom: -36px;
                left: 50%;
                transform: translateX(-50%);
                position: relative;
                display: block;
                content: '';
                height: 4px;
                width: 18px;
                margin: 0;
                padding: 0;
                background-color: #0078D4;
                border-radius: 999px;
            }
            .win {
                top: 50px;
                left: 50px;
                width: 200px;
                height: 200px;
                background-color: white;
                z-index: 0;
                box-sizing: border-box;
                position: absolute;
                border-radius: 10px;
            }
            .win-title-bar {
                display: flex;
                position: relative;
                background-color: whitesmoke;
                z-index: 999;
                height: 2rem;
                flex-direction: row;
                flex-wrap: nowrap;
                align-content: center;
                justify-content: space-between;
                align-items: center;
                border-top-left-radius: inherit;
                border-top-right-radius: inherit;
                padding: 8px;
                box-sizing: border-box;
            }
            .win-title {
                flex-direction: row;
                align-content: center;
            }
            .win-title img {
                height: calc(2rem - 10px);
                margin-top: 6px;
            }
            .win-close {
                height: inherit;
                float: right;
                margin-right: 8px;
                cursor: context-menu;
            }
            .win-close a {
                text-align: center;
                font-size: 1.2rem;
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                cursor: context-menu;
            }
            .win-drag {
                height: 2rem;
                flex: 1;
            }
            .win-drag p {
                margin: 5px 0 0 8px;
                cursor: context-menu;
            }
        </style>
        <script>
            $(function() {
                çª—å£å¯ä»¥ç§»åŠ¨();
                $(".taskbar .task-apps div").on('mousedown', (e) => {
                    const åŸæ¥çš„é«˜åº¦ = 40;
                    var _ = 60;
                    const åç§»X = e.clientX - parseInt($(e.currentTarget).css("left"));
                    var ä¸‹å»çš„è®¡æ—¶å™¨ = setInterval(() => {
                        $(e.currentTarget.firstChild).css("height", `${åŸæ¥çš„é«˜åº¦ / 60 * _}px`);
                        if (_ > (60 - 12)) --_; else clearInterval(ä¸‹å»çš„è®¡æ—¶å™¨);
                    }, (1/2));
                    $(document).on('mousemove', e.currentTarget, async(event) => {
                        $(e.currentTarget).css("left", (event.clientX - åç§»X) + 'px');
                    });
                    $(e.currentTarget).on('mouseup', (event) => {
                        $(event.currentTarget).unbind('mousemove');
                        var __ = 60 - 12;
                        var ä¸Šæ¥çš„è®¡æ—¶å™¨ = setInterval(() => {
                            $(event.currentTarget.firstChild).css("height", `${åŸæ¥çš„é«˜åº¦ / 60 * __}px`);
                            if (__ <= 60) ++__; else {
                                clearInterval(ä¸Šæ¥çš„è®¡æ—¶å™¨);
                                $(event.currentTarget).unbind('mouseup');
                            }
                        }, (1/2));
                    });
                });
            });
            async function çª—å£å¯ä»¥ç§»åŠ¨() {
                //åˆå§‹åŒ–åç§»å€¼
                var åç§»X = 0;
                var åç§»Y = 0;
                const çª—å£ = $("#çª—å£");
                //æ£€æµ‹é¼ æ ‡æŒ‰ä¸‹çš„äº‹ä»¶ï¼Œç»‘å®šåˆ°æ ‡é¢˜æ 
                $(document).on("mousedown", ".win-drag", (e) => {
                    //è®¡ç®—åç§»å€¼
                    åç§»X = e.clientX - parseInt(çª—å£.css("left"));
                    åç§»Y = e.clientY - parseInt(çª—å£.css("top"));
                    //é¼ æ ‡ç§»åŠ¨æ—¶å®æ—¶æ›´æ–°,ä¸ºäº†æ€§èƒ½æ‰€ä»¥å¼‚æ­¥
                    $(document).mousemove(async function(event) {
                        çª—å£.css("left", (event.clientX - åç§»X) + 'px');
                        çª—å£.css("top", (event.clientY - åç§»Y) + 'px');
                    });
                });
                //é¼ æ ‡æŠ¬èµ·æ—¶è§£ç»‘
                $(document).mouseup((event) => {
                    $(document).unbind('mouseover').unbind('mouseout').unbind('mousemove');
                });
            }
            let å·²ç»æœ€å¤§åŒ–äº† = false
            let çª—å£Xè½´, çª—å£Yè½´, çª—å£é«˜åº¦, çª—å£å®½åº¦;
            function æœ€å¤§åŒ–() {
                if (å·²ç»æœ€å¤§åŒ–äº†) {
                    //æŠŠçª—å£é‡æ–°å¼„åˆ°åŸæ¥çš„ä½ç½®
                    $('#çª—å£').css('width', çª—å£å®½åº¦)
                    $('#çª—å£').css('height', çª—å£é«˜åº¦);
                    $('#çª—å£').css('top', çª—å£Yè½´);
                    $('#çª—å£').css('left', çª—å£Xè½´);
                    $("#çª—å£").css("border-radius", "10px");
                    $(".win-title-bar").css("border-top-left-radius", "inherit");
                    $(".win-title-bar").css("border-top-right-radius", "inherit");
                    çª—å£å¯ä»¥ç§»åŠ¨();
                } else {
                    //è®°å½•çª—å£ä½ç½®å¤§å°
                    çª—å£Xè½´ = $('#çª—å£').css('left');
                    çª—å£Yè½´ = $('#çª—å£').css('top');
                    çª—å£é«˜åº¦ = $('#çª—å£').css('height');
                    çª—å£å®½åº¦ = $('#çª—å£').css('width');
                    //æœ€å¤§åŒ–
                    $(document).unbind("mousedown");
                    $('#çª—å£').css('width', '100%')
                    $('#çª—å£').css('height', 'calc(100dvh - 48px)');
                    $('#çª—å£').css('top', 0);
                    $('#çª—å£').css('left', 0);
                    $(".win-title-bar, #çª—å£").css('border-radius', "0");
                }
                å·²ç»æœ€å¤§åŒ–äº† = !å·²ç»æœ€å¤§åŒ–äº†
            }
            function æœ€å°åŒ–(window_target, taskbar_target) {}
        </script>
    </head>
    <body>
        <div class="taskbar">
            <div class="task-apps">
                <div data-win-logo>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4875 4875"><path fill="#0078d4" d="M0 0h2311v2310H0zm2564 0h2311v2310H2564zM0 2564h2311v2311H0zm2564 0h2311v2311H2564"/></svg>
                </div>
                <div data-search-bar></div>
                <div data-minisize><img src="/resource/icon/docs/docs.ico"></div>
                <div data-this-is-using><img src="/resource/icon/docs/docs.ico"></div>
                <div data-minisize><img src="/resource/icon/docs/docs.ico"></div>
                <div><img src="/resource/icon/docs/docs.ico"></div>
            </div>
        </div>
        <div id="çª—å£" class="win">
            <div class="win-title-bar">
                <div class="win-title">
                    <img src="/resource/blogger/blogger.png">
                </div>
                <div class="win-drag">
                    <p>çª—å£æ ‡é¢˜</p>
                </div>
                <div class="win-close">
                    <a href="javascript:void(0);" onclick="$('#çª—å£').remove()">ğŸ—•</a>
                    <a href="javascript:void(0);" onclick="æœ€å¤§åŒ–()">ğŸ——</a>
                    <a href="javascript:void(0);" onclick="$('#çª—å£').remove()">ğŸ—™</a>
                </div>
            </div>
        </div>
    </body>
</html>